{"ast":null,"code":"import React, { memo, useRef, useMemo, createContext, useState, useCallback, useContext } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport { useTheme, useMotionConfig, useMeasure, useValueFormatter } from '@nivo/core';\nimport PropTypes from 'prop-types';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar TOOLTIP_OFFSET = 14;\nvar tooltipStyle = {\n  pointerEvents: 'none',\n  position: 'absolute',\n  zIndex: 10,\n  top: 0,\n  left: 0\n};\n\nvar translate = function translate(x, y) {\n  return \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n};\n\nvar TooltipWrapper = function TooltipWrapper(_ref) {\n  var _animatedProps$transf;\n\n  var position = _ref.position,\n      anchor = _ref.anchor,\n      children = _ref.children;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var _useMeasure = useMeasure(),\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\n      measureRef = _useMeasure2[0],\n      bounds = _useMeasure2[1];\n\n  var previousPosition = useRef(false);\n  var to = undefined;\n  var immediate = false;\n  var hasDimension = bounds.width > 0 && bounds.height > 0;\n  var x = Math.round(position[0]);\n  var y = Math.round(position[1]);\n\n  if (hasDimension) {\n    if (anchor === 'top') {\n      x -= bounds.width / 2;\n      y -= bounds.height + TOOLTIP_OFFSET;\n    } else if (anchor === 'right') {\n      x += TOOLTIP_OFFSET;\n      y -= bounds.height / 2;\n    } else if (anchor === 'bottom') {\n      x -= bounds.width / 2;\n      y += TOOLTIP_OFFSET;\n    } else if (anchor === 'left') {\n      x -= bounds.width + TOOLTIP_OFFSET;\n      y -= bounds.height / 2;\n    } else if (anchor === 'center') {\n      x -= bounds.width / 2;\n      y -= bounds.height / 2;\n    }\n\n    to = {\n      transform: translate(x, y)\n    };\n\n    if (!previousPosition.current) {\n      immediate = true;\n    }\n\n    previousPosition.current = [x, y];\n  }\n\n  var animatedProps = useSpring({\n    to: to,\n    config: springConfig,\n    immediate: !animate || immediate\n  });\n\n  var style = _objectSpread2(_objectSpread2(_objectSpread2({}, tooltipStyle), theme.tooltip), {}, {\n    transform: (_animatedProps$transf = animatedProps.transform) !== null && _animatedProps$transf !== void 0 ? _animatedProps$transf : translate(x, y)\n  });\n\n  return React.createElement(animated.div, {\n    ref: measureRef,\n    style: style\n  }, children);\n};\n\nTooltipWrapper.defaultProps = {\n  anchor: 'top'\n};\nvar TooltipWrapper$1 = memo(TooltipWrapper);\nvar Chip = memo(function (_ref) {\n  var size = _ref.size,\n      color = _ref.color,\n      style = _ref.style;\n  return React.createElement(\"span\", {\n    style: _objectSpread2({\n      display: 'block',\n      width: size,\n      height: size,\n      background: color\n    }, style)\n  });\n});\nChip.propTypes = {\n  size: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired\n};\nChip.defaultProps = {\n  size: 12,\n  style: {}\n};\nChip.displayName = 'Chip';\nvar BasicTooltip = memo(function (_ref) {\n  var id = _ref.id,\n      _value = _ref.value,\n      format = _ref.format,\n      enableChip = _ref.enableChip,\n      color = _ref.color,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  var formatValue = useValueFormatter(format);\n  var content;\n\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    var value = _value;\n\n    if (formatValue !== undefined && value !== undefined) {\n      value = formatValue(value);\n    }\n\n    content = React.createElement(\"div\", {\n      style: theme.tooltip.basic\n    }, enableChip && React.createElement(Chip, {\n      color: color,\n      style: theme.tooltip.chip\n    }), value !== undefined ? React.createElement(\"span\", null, id, \": \", React.createElement(\"strong\", null, isNaN(value) ? String(value) : value)) : id);\n  }\n\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nBasicTooltip.displayName = 'BasicTooltip';\nBasicTooltip.defaultProps = {\n  enableChip: false\n};\nvar tableStyle = {\n  width: '100%',\n  borderCollapse: 'collapse'\n};\nvar TableTooltip = memo(function (_ref) {\n  var title = _ref.title,\n      rows = _ref.rows,\n      renderContent = _ref.renderContent;\n  var theme = useTheme();\n  if (!rows.length) return null;\n  var content;\n\n  if (typeof renderContent === 'function') {\n    content = renderContent();\n  } else {\n    content = React.createElement(\"div\", null, title && title, React.createElement(\"table\", {\n      style: _objectSpread2(_objectSpread2({}, tableStyle), theme.tooltip.table)\n    }, React.createElement(\"tbody\", null, rows.map(function (row, i) {\n      return React.createElement(\"tr\", {\n        key: i\n      }, row.map(function (column, j) {\n        return React.createElement(\"td\", {\n          key: j,\n          style: theme.tooltip.tableCell\n        }, column);\n      }));\n    }))));\n  }\n\n  return React.createElement(\"div\", {\n    style: theme.tooltip.container\n  }, content);\n});\nTableTooltip.displayName = 'TableTooltip';\nvar crosshairTypes = ['x', 'y', 'top-left', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'cross'];\nvar crosshairPropTypes = {\n  type: PropTypes.oneOf(crosshairTypes)\n};\nvar CrosshairLine = memo(function (_ref) {\n  var x0 = _ref.x0,\n      x1 = _ref.x1,\n      y0 = _ref.y0,\n      y1 = _ref.y1;\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var style = useMemo(function () {\n    return _objectSpread2(_objectSpread2({}, theme.crosshair.line), {}, {\n      pointerEvents: 'none'\n    });\n  }, [theme.crosshair.line]);\n  var animatedProps = useSpring({\n    x1: x0,\n    x2: x1,\n    y1: y0,\n    y2: y1,\n    config: springConfig,\n    immediate: !animate\n  });\n  return React.createElement(animated.line, Object.assign({}, animatedProps, {\n    fill: \"none\",\n    style: style\n  }));\n});\nCrosshairLine.displayName = 'CrosshairLine';\nvar Crosshair = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      type = _ref.type,\n      x = _ref.x,\n      y = _ref.y;\n  var xLine;\n  var yLine;\n\n  if (type === 'cross') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'top') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n  } else if (type === 'top-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: y\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'right') {\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom-right') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: x,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'bottom') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n  } else if (type === 'bottom-left') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: y,\n      y1: height\n    };\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'left') {\n    yLine = {\n      x0: 0,\n      x1: x,\n      y0: y,\n      y1: y\n    };\n  } else if (type === 'x') {\n    xLine = {\n      x0: x,\n      x1: x,\n      y0: 0,\n      y1: height\n    };\n  } else if (type === 'y') {\n    yLine = {\n      x0: 0,\n      x1: width,\n      y0: y,\n      y1: y\n    };\n  }\n\n  return React.createElement(React.Fragment, null, xLine && React.createElement(CrosshairLine, {\n    x0: xLine.x0,\n    x1: xLine.x1,\n    y0: xLine.y0,\n    y1: xLine.y1\n  }), yLine && React.createElement(CrosshairLine, {\n    x0: yLine.x0,\n    x1: yLine.x1,\n    y0: yLine.y0,\n    y1: yLine.y1\n  }));\n});\nCrosshair.displayName = 'Crosshair';\nCrosshair.defaultProps = {\n  type: 'cross'\n};\nvar tooltipContext = createContext();\n\nvar useTooltipHandlers = function useTooltipHandlers(container) {\n  var _useState = useState({\n    isVisible: false,\n    content: null,\n    position: {}\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var showTooltipAt = useCallback(function (content, _ref, anchor) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, [setState]);\n  var showTooltipFromEvent = useCallback(function (content, event, anchor) {\n    var bounds = container.current.getBoundingClientRect();\n    var x = event.clientX - bounds.left;\n    var y = event.clientY - bounds.top;\n\n    if (anchor === 'left' || anchor === 'right') {\n      if (x < bounds.width / 2) anchor = 'right';else anchor = 'left';\n    }\n\n    setState({\n      isVisible: true,\n      position: [x, y],\n      anchor: anchor,\n      content: content\n    });\n  }, [container, setState]);\n  var hideTooltip = useCallback(function () {\n    setState({\n      isVisible: false,\n      content: null\n    });\n  }, [setState]);\n  return {\n    showTooltipAt: showTooltipAt,\n    showTooltipFromEvent: showTooltipFromEvent,\n    hideTooltip: hideTooltip,\n    isTooltipVisible: state.isVisible,\n    tooltipPosition: state.position,\n    tooltipAnchor: state.anchor,\n    tooltipContent: state.content\n  };\n};\n\nvar useTooltip = function useTooltip() {\n  var context = useContext(tooltipContext);\n  var memoizedContext = useMemo(function () {\n    return {\n      showTooltipAt: context.showTooltipAt,\n      showTooltipFromEvent: context.showTooltipFromEvent,\n      hideTooltip: context.hideTooltip\n    };\n  }, [context.showTooltipAt, context.showTooltipFromEvent, context.hideTooltip]);\n  return memoizedContext;\n};\n\nexport { BasicTooltip, Chip, Crosshair, TableTooltip, TooltipWrapper$1 as TooltipWrapper, crosshairPropTypes, crosshairTypes, tooltipContext, useTooltip, useTooltipHandlers };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/components/TooltipWrapper.js","../src/components/Chip.js","../src/components/BasicTooltip.js","../src/components/TableTooltip.js","../src/props.js","../src/components/CrosshairLine.js","../src/components/Crosshair.js","../src/context.js","../src/hooks.js"],"names":["defineProperty","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","TOOLTIP_OFFSET","tooltipStyle","pointerEvents","position","zIndex","top","left","translate","TooltipWrapper","anchor","children","theme","useTheme","animate","springConfig","useMotionConfig","measureRef","bounds","useMeasure","previousPosition","useRef","to","immediate","hasDimension","x","Math","y","transform","animatedProps","useSpring","config","style","memo","Chip","size","color","display","width","height","background","PropTypes","isRequired","BasicTooltip","id","value","_value","format","enableChip","renderContent","formatValue","useValueFormatter","content","basic","chip","isNaN","String","container","tableStyle","borderCollapse","TableTooltip","title","rows","i","tableCell","crosshairTypes","crosshairPropTypes","type","CrosshairLine","x0","x1","y0","y1","useMemo","x2","y2","Crosshair","xLine","yLine","tooltipContext","createContext","useTooltipHandlers","state","setState","useState","isVisible","showTooltipAt","useCallback","showTooltipFromEvent","event","hideTooltip","isTooltipVisible","tooltipPosition","tooltipAnchor","tooltipContent","useTooltip","context","useContext","memoizedContext"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig, useMeasure } from '@nivo/core'\n\nconst TOOLTIP_OFFSET = 14\n\nconst tooltipStyle = {\n    pointerEvents: 'none',\n    position: 'absolute',\n    zIndex: 10,\n    top: 0,\n    left: 0,\n}\n\nconst translate = (x, y) => `translate(${x}px, ${y}px)`\n\nconst TooltipWrapper = ({ position, anchor, children }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n    const [measureRef, bounds] = useMeasure()\n    const previousPosition = useRef(false)\n\n    let to = undefined\n    let immediate = false\n    const hasDimension = bounds.width > 0 && bounds.height > 0\n\n    let x = Math.round(position[0])\n    let y = Math.round(position[1])\n\n    if (hasDimension) {\n        if (anchor === 'top') {\n            x -= bounds.width / 2\n            y -= bounds.height + TOOLTIP_OFFSET\n        } else if (anchor === 'right') {\n            x += TOOLTIP_OFFSET\n            y -= bounds.height / 2\n        } else if (anchor === 'bottom') {\n            x -= bounds.width / 2\n            y += TOOLTIP_OFFSET\n        } else if (anchor === 'left') {\n            x -= bounds.width + TOOLTIP_OFFSET\n            y -= bounds.height / 2\n        } else if (anchor === 'center') {\n            x -= bounds.width / 2\n            y -= bounds.height / 2\n        }\n\n        to = {\n            transform: translate(x, y),\n        }\n        if (!previousPosition.current) {\n            immediate = true\n        }\n\n        previousPosition.current = [x, y]\n    }\n\n    const animatedProps = useSpring({\n        to,\n        config: springConfig,\n        immediate: !animate || immediate,\n    })\n\n    const style = {\n        ...tooltipStyle,\n        ...theme.tooltip,\n        transform: animatedProps.transform ?? translate(x, y),\n    }\n\n    return (\n        <animated.div ref={measureRef} style={style}>\n            {children}\n        </animated.div>\n    )\n}\n\nTooltipWrapper.propTypes = {\n    position: PropTypes.array.isRequired,\n    anchor: PropTypes.oneOf(['top', 'right', 'bottom', 'left', 'center']).isRequired,\n    children: PropTypes.node.isRequired,\n}\nTooltipWrapper.defaultProps = {\n    anchor: 'top',\n}\n\nexport default memo(TooltipWrapper)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Chip = memo(({ size, color, style }) => (\n    <span style={{ display: 'block', width: size, height: size, background: color, ...style }} />\n))\n\nChip.propTypes = {\n    size: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    style: PropTypes.object.isRequired,\n}\n\nChip.defaultProps = {\n    size: 12,\n    style: {},\n}\n\nChip.displayName = 'Chip'\n\nexport default Chip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme, useValueFormatter } from '@nivo/core'\nimport Chip from './Chip'\n\nconst BasicTooltip = memo(({ id, value: _value, format, enableChip, color, renderContent }) => {\n    const theme = useTheme()\n    const formatValue = useValueFormatter(format)\n\n    let content\n    if (typeof renderContent === 'function') {\n        content = renderContent()\n    } else {\n        let value = _value\n        if (formatValue !== undefined && value !== undefined) {\n            value = formatValue(value)\n        }\n        content = (\n            <div style={theme.tooltip.basic}>\n                {enableChip && <Chip color={color} style={theme.tooltip.chip} />}\n                {value !== undefined ? (\n                    <span>\n                        {id}: <strong>{isNaN(value) ? String(value) : value}</strong>\n                    </span>\n                ) : (\n                    id\n                )}\n            </div>\n        )\n    }\n\n    return <div style={theme.tooltip.container}>{content}</div>\n})\n\nBasicTooltip.displayName = 'BasicTooltip'\nBasicTooltip.propTypes = {\n    id: PropTypes.node.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    enableChip: PropTypes.bool.isRequired,\n    color: PropTypes.string,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    renderContent: PropTypes.func,\n}\nBasicTooltip.defaultProps = {\n    enableChip: false,\n}\n\nexport default BasicTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@nivo/core'\n\nconst tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n}\n\nconst TableTooltip = memo(({ title, rows, renderContent }) => {\n    const theme = useTheme()\n\n    if (!rows.length) return null\n\n    let content\n    if (typeof renderContent === 'function') {\n        content = renderContent()\n    } else {\n        content = (\n            <div>\n                {title && title}\n                <table style={{ ...tableStyle, ...theme.tooltip.table }}>\n                    <tbody>\n                        {rows.map((row, i) => (\n                            <tr key={i}>\n                                {row.map((column, j) => (\n                                    <td key={j} style={theme.tooltip.tableCell}>\n                                        {column}\n                                    </td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n    return <div style={theme.tooltip.container}>{content}</div>\n})\n\nTableTooltip.propTypes = {\n    title: PropTypes.node,\n    rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.node)).isRequired,\n    renderContent: PropTypes.func,\n}\n\nTableTooltip.displayName = 'TableTooltip'\n\nexport default TableTooltip\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const crosshairTypes = [\n    'x',\n    'y',\n    'top-left',\n    'top',\n    'top-right',\n    'right',\n    'bottom-right',\n    'bottom',\n    'bottom-left',\n    'left',\n    'cross',\n]\n\nexport const crosshairPropTypes = {\n    type: PropTypes.oneOf(crosshairTypes),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from 'react-spring'\nimport { useTheme, useMotionConfig } from '@nivo/core'\n\nconst CrosshairLine = memo(({ x0, x1, y0, y1 }) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n    const style = useMemo(\n        () => ({\n            ...theme.crosshair.line,\n            pointerEvents: 'none',\n        }),\n        [theme.crosshair.line]\n    )\n\n    const animatedProps = useSpring({\n        x1: x0,\n        x2: x1,\n        y1: y0,\n        y2: y1,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return <animated.line {...animatedProps} fill=\"none\" style={style} />\n})\n\nCrosshairLine.displayName = 'CrosshairLine'\nCrosshairLine.propTypes = {\n    x0: PropTypes.number.isRequired,\n    x1: PropTypes.number.isRequired,\n    y0: PropTypes.number.isRequired,\n    y1: PropTypes.number.isRequired,\n}\n\nexport default CrosshairLine\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { crosshairPropTypes } from '../props'\nimport CrosshairLine from './CrosshairLine'\n\nconst Crosshair = memo(({ width, height, type, x, y }) => {\n    let xLine\n    let yLine\n    if (type === 'cross') {\n        xLine = { x0: x, x1: x, y0: 0, y1: height }\n        yLine = { x0: 0, x1: width, y0: y, y1: y }\n    } else if (type === 'top-left') {\n        xLine = { x0: x, x1: x, y0: 0, y1: y }\n        yLine = { x0: 0, x1: x, y0: y, y1: y }\n    } else if (type === 'top') {\n        xLine = { x0: x, x1: x, y0: 0, y1: y }\n    } else if (type === 'top-right') {\n        xLine = { x0: x, x1: x, y0: 0, y1: y }\n        yLine = { x0: x, x1: width, y0: y, y1: y }\n    } else if (type === 'right') {\n        yLine = { x0: x, x1: width, y0: y, y1: y }\n    } else if (type === 'bottom-right') {\n        xLine = { x0: x, x1: x, y0: y, y1: height }\n        yLine = { x0: x, x1: width, y0: y, y1: y }\n    } else if (type === 'bottom') {\n        xLine = { x0: x, x1: x, y0: y, y1: height }\n    } else if (type === 'bottom-left') {\n        xLine = { x0: x, x1: x, y0: y, y1: height }\n        yLine = { x0: 0, x1: x, y0: y, y1: y }\n    } else if (type === 'left') {\n        yLine = { x0: 0, x1: x, y0: y, y1: y }\n    } else if (type === 'x') {\n        xLine = { x0: x, x1: x, y0: 0, y1: height }\n    } else if (type === 'y') {\n        yLine = { x0: 0, x1: width, y0: y, y1: y }\n    }\n\n    return (\n        <>\n            {xLine && <CrosshairLine x0={xLine.x0} x1={xLine.x1} y0={xLine.y0} y1={xLine.y1} />}\n            {yLine && <CrosshairLine x0={yLine.x0} x1={yLine.x1} y0={yLine.y0} y1={yLine.y1} />}\n        </>\n    )\n})\n\nCrosshair.displayName = 'Crosshair'\nCrosshair.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    type: crosshairPropTypes.type.isRequired,\n}\nCrosshair.defaultProps = {\n    type: 'cross',\n}\n\nexport default Crosshair\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createContext } from 'react'\n\nexport const tooltipContext = createContext()\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useState, useContext, useCallback, useMemo } from 'react'\nimport { tooltipContext } from './context'\n\nexport const useTooltipHandlers = container => {\n    const [state, setState] = useState({\n        isVisible: false,\n        content: null,\n        position: {},\n    })\n\n    const showTooltipAt = useCallback(\n        (content, [x, y], anchor) => {\n            setState({\n                isVisible: true,\n                position: [x, y],\n                anchor,\n                content,\n            })\n        },\n        [setState]\n    )\n\n    const showTooltipFromEvent = useCallback(\n        (content, event, anchor) => {\n            const bounds = container.current.getBoundingClientRect()\n            const x = event.clientX - bounds.left\n            const y = event.clientY - bounds.top\n\n            if (anchor === 'left' || anchor === 'right') {\n                if (x < bounds.width / 2) anchor = 'right'\n                else anchor = 'left'\n            }\n\n            setState({\n                isVisible: true,\n                position: [x, y],\n                anchor,\n                content,\n            })\n        },\n        [container, setState]\n    )\n\n    const hideTooltip = useCallback(() => {\n        setState({ isVisible: false, content: null })\n    }, [setState])\n\n    return {\n        showTooltipAt,\n        showTooltipFromEvent,\n        hideTooltip,\n        isTooltipVisible: state.isVisible,\n        tooltipPosition: state.position,\n        tooltipAnchor: state.anchor,\n        tooltipContent: state.content,\n    }\n}\n\nexport const useTooltip = () => {\n    const context = useContext(tooltipContext)\n\n    const memoizedContext = useMemo(() => {\n        return {\n            showTooltipAt: context.showTooltipAt,\n            showTooltipFromEvent: context.showTooltipFromEvent,\n            hideTooltip: context.hideTooltip,\n        }\n    }, [context.showTooltipAt, context.showTooltipFromEvent, context.hideTooltip])\n\n    return memoizedContext\n}\n"]},"metadata":{},"sourceType":"module"}